<section data-ng-controller="ProductsController" data-ng-init="findOne()">
	<div class='overlay' ng-show='displayOverlay'>
		<a class="btn btn-primary close" data-ng-click="hideReview();">
				<i class="glyphicon glyphicon-remove"></i>
		</a>
		<ul class='row'>
			<li class='col-md-4 col-md-offset-2 col-sm-1col-sm-offset-0'>
					<span data-ng-bind ='reviewContent'></span>
			</li>
			<li class='col-md-4 col-sm-1'>
				<div data-ng-repeat='comment in comments'  class='watchComment list-group-item'>
					<small class='list-group-item-text'>
						Posted on
						<span data-ng-bind="comment.posted | date:'mediumDate'"></span>
						by
						<span data-ng-bind="comment.user"></span>
					</small>
					<h4 class='list-group-item-heading' data-ng-bind='comment.comment'></h4>
				</div>
			</li>
		</ul>
	</div>
	<div class="page-header">
		<h1 data-ng-bind="product.title"></h1>
	</div>
	<div class="pull-right">
		<span data-ng-show="authentication.user._id == product.user._id">
			<a class="btn btn-primary" href="/#!/products/{{product._id}}/edit">
				<i class="glyphicon glyphicon-edit"></i>
			</a>
			<a class="btn btn-primary" data-ng-click="remove();">
				<i class="glyphicon glyphicon-trash"></i>
			</a>
		</span>
		<a class="btn btn-primary" href='/#!/products/{{product._id}}/create'>
			<i class="glyphicon glyphicon-plus"></i>
		</a>
	</div>

	<small>
		<em class="text-muted">
			Posted on
			<span data-ng-bind="product.added | date:'mediumDate'"></span>
			by
			<span data-ng-bind="product.user.displayName"></span>
			Category
			<span data-ng-bind="product.category"></span>
		</em>
	</small>
	<div>
		<ul class='container'>
			<li data-ng-repeat='review in product.reviews'>
				<button class="link" ng-click='reviewClicked($index, review)'>
					{{review.content}}
				</button>
			</li>
		</ul>
	</div>
	<p class="lead" data-ng-bind="reviews.content"></p>
</section>